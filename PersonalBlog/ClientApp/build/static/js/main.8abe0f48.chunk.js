(this.webpackJsonppersonalblog=this.webpackJsonppersonalblog||[]).push([[0],{35:function(e,t,a){e.exports=a.p+"static/media/homescreen.89272761.jpg"},38:function(e,t,a){e.exports=a.p+"static/media/logo.bebb124e.png"},39:function(e,t,a){e.exports=a.p+"static/media/blogs.2b64db14.jpg"},40:function(e,t,a){e.exports=a.p+"static/media/profile.b862ee27.jpg"},42:function(e,t,a){e.exports=a(71)},47:function(e,t,a){},71:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(17),r=a.n(c),o=(a(47),a(4)),m=a(35),i=a.n(m),s=a(10),u=a(12),g=a(3),d=a(2),E=a(14),b=a.n(E),f=function(){return function(e){e({type:"IS_LOADING"}),b.a.get("http://localhost:61803/api/blogs/getblogs").then(v).then((function(t){e({type:"GET_BLOGS_SUCCESS",payload:t}),e({type:"NOT_LOADING"})})).catch(y)}},h=function(e){b.a.post("http://localhost:61803/api/blogs/incrementview",{blogId:e}).catch(y)},p=function(e){return function(t){return b.a.post("http://localhost:61803/api/blogs/addcomment",e).then(v).then((function(e){return t({type:"ADD_COMMENT_SUCCESS",payload:e})})).catch(y)}},N=function(e){return function(t){return b.a.post("http://localhost:61803/api/blogs/removecomment",e).then(v).then(t({type:"REMOVE_COMMENT_SUCCESS",payload:e})).catch(y)}},v=function(e){if(200===e.status)return e.data},y=function(e){console.log(e)},O=function(){return function(e){return b.a.get("http://localhost:61803/api/categories/getcategories").then(j).then((function(t){return e({type:"GET_CATEGORIES_SUCCESS",payload:t})})).catch(S)}},C=function(e){return{type:"CHANGE_CATEGORY",payload:e}},j=function(e){if(200===e.status)return e.data},S=function(e){console.log(e)},I=function(e){var t=e.selectedCategory,a=e.items,c=e.changeCategoryHandler,r=(Object(o.a)(e,["selectedCategory","items","changeCategoryHandler"]),Object(n.useState)(t)),m=Object(s.a)(r,2),i=m[0],u=m[1],g=function(e){u(e.categoryName||"T\xfcm kategoriler"),c(e)};return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{onClick:function(e){var t=document.querySelector(".select-arrow");document.querySelector(".options").classList.toggle("closed"),t.classList.toggle("select-arrow-up")},className:"selectbox"},i,l.a.createElement("span",{className:"select-arrow"}),l.a.createElement("ul",{className:"options closed"},l.a.createElement("li",{className:"option",onClick:function(){return g({})}},"T\xfcm kategoriler"),a?a.map((function(e){return l.a.createElement("li",{key:e.categoryId,onClick:function(){return g(e)},className:"option"},e.categoryName)})):"")))},k=Object(g.b)((function(e){return{categories:e.categoryReducer}}),(function(e){return{getCategories:Object(d.b)(O,e),changeCategory:Object(d.b)(C,e)}}))((function(e){var t=e.categories,a=e.getCategories,c=e.changeCategory;Object(o.a)(e,["categories","getCategories","changeCategory"]);Object(n.useEffect)((function(){0===t.categories.length&&a()}),[t.categories.length,a]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(I,{selectedCategory:t.currentCategory.categoryName||"T\xfcm kategoriler",items:t.categories,changeCategoryHandler:function(e){c(e)}}))})),T=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"blog-preview"},l.a.createElement("div",{className:"blog-img"},l.a.createElement("div",{className:"img-skeleton"})),l.a.createElement("div",{className:"blog-details"},l.a.createElement("div",{className:"full-line"}),l.a.createElement("div",{className:"category small-line"}),l.a.createElement("small",null,l.a.createElement("div",{className:"small-line"}),l.a.createElement("div",{className:"small-line"})))))},w=Object(g.b)((function(e){return{blogs:e.blogReducer,currentCategory:e.categoryReducer.currentCategory.categoryName,ui:e.uiReducer}}),(function(e){return{getBlogs:Object(d.b)(f,e)}}))((function(e){var t=e.path,a=e.blogs,c=(e.getLatestBlogs,e.getBlogs),r=e.currentCategory,m=e.ui.loading,i=(Object(o.a)(e,["path","blogs","getLatestBlogs","getBlogs","currentCategory","ui"]),Object(n.useState)(t.indexOf("blogs")>0)),g=Object(s.a)(i,1)[0];return Object(n.useEffect)((function(){0===a.length&&c()}),[a.length,c,g]),g||(a=a.slice(0,2)),l.a.createElement(l.a.Fragment,null,l.a.createElement("main",{className:"container"},g?l.a.createElement("div",{className:"blog-header"},l.a.createElement(k,null)):l.a.createElement("div",{className:"blog-header"},"Son Eklenenler"),m?l.a.createElement(T,null):a.filter((function(e){return r&&g?e.categoryName===r:e})).map((function(e){return l.a.createElement(u.b,{key:e.blogId,to:"/blogs/".concat(e.blogId)},l.a.createElement("div",{className:"blog-preview"},l.a.createElement("div",{className:"blog-img"},l.a.createElement("img",{src:e.mainImage,alt:""})),l.a.createElement("div",{className:"blog-details"},l.a.createElement("h2",null,e.header),l.a.createElement("div",{className:"category"},e.categoryName),l.a.createElement("small",null,l.a.createElement("span",null,e.addedDate,", by Mustafa Y\u0131lmaz"),l.a.createElement("span",null,l.a.createElement("span",{className:"blog-details-icon"},l.a.createElement("i",{className:"fas fa-eye"})," ",e.viewCount),l.a.createElement("span",{className:"blog-details-icon"},l.a.createElement("i",{className:"fas fa-comment"})," ",e.commentCount))))))})),g?"":l.a.createElement("div",{className:"link-to-blogs"},l.a.createElement(u.b,{to:"/blogs"},"T\xfcm Yaz\u0131lar\u0131m"))))})),_=a(38),x=a.n(_),R=Object(g.b)((function(e){return{auth:e.authReducer}}))((function(e){var t=e.auth;return l.a.createElement(l.a.Fragment,null,l.a.createElement("nav",null,l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"brand"},l.a.createElement(u.b,{to:"/"},l.a.createElement("img",{src:x.a,alt:"",className:"brand-img"}))),l.a.createElement("ul",null,l.a.createElement("li",null,t.authenticated?l.a.createElement("a",{href:"/admin"},"Y\xf6netim Paneli"):"",l.a.createElement(u.b,{to:"/blogs"},"Yaz\u0131lar\u0131m"))))))})),A=function(e){var t=e.img,a=e.text;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"jumbotron"},l.a.createElement("img",{src:t,alt:""}),l.a.createElement("h1",{className:"jumbotron-text"},a||"myblog.com'a ho\u015fgeldiniz! Keyifli okumalar.")),l.a.createElement(R,null))},G=function(e){var t=e.match.path;Object(o.a)(e,["match"]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(A,{img:i.a}),l.a.createElement(w,{path:t}))},L=function(){return l.a.createElement("div",null,"Not Found!")},z=a(39),F=a.n(z),M=function(e){var t=e.match.path;Object(o.a)(e,["match"]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(A,{img:F.a}),l.a.createElement(w,{path:t}))},U=a(40),Y=a.n(U),D=a(19),B=a(9),H=function(e,t){var a=Object(n.useState)({}),l=Object(s.a)(a,2),c=l[0],r=l[1],o=Object(n.useState)({}),m=Object(s.a)(o,2),i=m[0],u=m[1],g=Object(n.useState)(!1),d=Object(s.a)(g,2),E=d[0],b=d[1];return Object(n.useEffect)((function(){0===Object.keys(i).length&&E&&(e(),b(!1))}),[e,i,E]),{values:c,handleSubmit:function(e){e.preventDefault(),b(!0),u(t(c))},handleChange:function(e){var t=e.target,a=t.name,n=t.value;r((function(e){return Object(B.a)({},e,Object(D.a)({},a,n))}))},errors:i}},q=function(e){var t={};return e.username?e.username.length>30&&(t.username="\u0130sim alan\u0131 en fazla 30 karakter olmal\u0131d\u0131r."):t.username="\u0130sim girmek zorunludur.",e.commenttext?e.commenttext>140&&(t.commenttext="Yorumunuz en fazla 140 karakter olmal\u0131d\u0131r."):t.commenttext="Yorum k\u0131sm\u0131 bo\u015f b\u0131rak\u0131lamaz",t},V=Object(g.b)((function(e){return{auth:e.authReducer}}),(function(e){return{addComment:Object(d.b)(p,e),removeComment:Object(d.b)(N,e)}}))((function(e){var t=e.commentList,a=e.addComment,n=e.blogId,c=e.removeComment,r=e.auth.authenticated,m=(Object(o.a)(e,["commentList","addComment","blogId","removeComment","auth"]),H((function(){u.blogId=n,a(u)}),q)),i=m.handleChange,s=m.handleSubmit,u=m.values,g=m.errors;return l.a.createElement(l.a.Fragment,null,l.a.createElement("section",{className:"comment-section"},l.a.createElement("h3",null,"Yorumlar"),l.a.createElement("form",{onSubmit:s},l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{onChange:i,type:"text",name:"username",placeholder:"\u0130sminiz..",value:u.username||""}),g.username&&l.a.createElement("small",{className:"input-error"},g.username)),l.a.createElement("div",{className:"form-group"},l.a.createElement("textarea",{onChange:i,type:"text",name:"commenttext",placeholder:"Yorumunuz..",value:u.commenttext||"",rows:"4"}),g.commenttext&&l.a.createElement("small",{className:"input-error"},g.commenttext)),l.a.createElement("button",{type:"submit"},"Yorum Yap")),l.a.createElement("div",{className:"comments"},t&&t.map((function(e){return l.a.createElement("div",{key:e.commentId,className:"card"},l.a.createElement("div",{className:"card-details"},l.a.createElement("h4",null,e.username),l.a.createElement("p",null,e.commentText)),r?l.a.createElement("div",{onClick:function(){return function(e){c(e)}(e)},className:"delete-comment-btn"},l.a.createElement("i",{className:"fas fa-times"})):"")})))))})),J=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("section",{className:"blog-detail-layout"},l.a.createElement("section",{id:"blog-content"},l.a.createElement("div",{className:"blog-info"},l.a.createElement("div",{className:"small-line"})),l.a.createElement("div",{className:"full-line"}),l.a.createElement("div",{className:"full-line"}),l.a.createElement("div",{className:"full-line"}),l.a.createElement("div",{className:"full-line"}),l.a.createElement("div",{className:"full-line"}),l.a.createElement("div",{className:"full-line"}),l.a.createElement("div",{className:"full-line"}),l.a.createElement("div",{className:"full-line"}),l.a.createElement("div",{className:"full-line"}),l.a.createElement("div",{className:"full-line"}),l.a.createElement("div",{className:"full-line"}),l.a.createElement("div",{className:"full-line"}),l.a.createElement("div",{className:"full-line"}),l.a.createElement("div",{className:"full-line"})),l.a.createElement("section",{className:"author"},l.a.createElement("div",{className:"img-skeleton"}),l.a.createElement("div",{className:"small-line"}),l.a.createElement("div",{className:"small-line"}),l.a.createElement("div",{className:"full-line"}),l.a.createElement("div",{className:"full-line"}))))},P=Object(g.b)((function(e,t){var a=t.match.params.id;return{blog:a&&e.blogReducer.length>0?function(e,t){return e.find((function(e){return e.blogId===Number(t)}))||null}(e.blogReducer,a):{},blogs:e.blogReducer,ui:e.uiReducer}}),(function(e){return{getBlogs:Object(d.b)(f,e),incrementView:h}}))((function(e){e.match;var t=e.blogs,a=e.getBlogs,c=e.blog,r=e.ui.loading,m=(Object(o.a)(e,["match","blogs","getBlogs","blog","ui"]),Object(n.useState)(0)),i=Object(s.a)(m,2),u=i[0],g=i[1];return Object(n.useEffect)((function(){0===t.length&&a(),c.content&&(g(Math.floor(c.content.split(" ").length/200)),setTimeout((function(){h(c.blogId)}),1e4))}),[c.blogId,c.content,t.length,a]),l.a.createElement(l.a.Fragment,null,l.a.createElement(A,{img:c.mainImage,text:c.header}),l.a.createElement("main",{className:"container"},r?l.a.createElement(J,null):l.a.createElement(l.a.Fragment,null,l.a.createElement("section",{className:"blog-detail-layout"},l.a.createElement("section",{id:"blog-content"},l.a.createElement("p",{className:"blog-info"},l.a.createElement("span",{className:"blog-details-icon"},l.a.createElement("i",{className:"fas fa-eye"})," ",c.viewCount),l.a.createElement("span",{className:"blog-details-icon"},l.a.createElement("i",{className:"fas fa-comment"})," ",c.commentCount),l.a.createElement("span",null,l.a.createElement("i",{className:"far fa-clock"})," ",u," dakikal\u0131k okuma")),l.a.createElement("div",{dangerouslySetInnerHTML:{__html:c.content}})),l.a.createElement("section",{className:"author"},l.a.createElement("div",{className:"author-img"},l.a.createElement("img",{src:Y.a,alt:"profile placeholder"})),l.a.createElement("div",{className:"author-details"},l.a.createElement("small",null,"Yazar"),l.a.createElement("h4",null,"Mustafa Y\u0131lmaz"),l.a.createElement("p",null,"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Nobis expedita reiciendis perferendis aliquid iste quas .")))),l.a.createElement(V,{blogId:c.blogId,commentList:c.comments}))))})),W=a(13),X=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("footer",null,l.a.createElement("div",{className:"credentials"},l.a.createElement("div",{className:"container"},l.a.createElement("div",null,l.a.createElement("i",{className:"far fa-envelope-open"}),l.a.createElement("span",null,"mfyilmaz95@gmail.com")),l.a.createElement("div",null,l.a.createElement("i",{className:"fas fa-globe"}),l.a.createElement("span",null,"www.myyilmaz.com")),l.a.createElement("div",null,l.a.createElement("i",{className:"fab fa-linkedin-in"})))),l.a.createElement("div",{className:"copyright"},l.a.createElement("small",null,"\xa9 2020 T\xfcm haklar\u0131 sakl\u0131d\u0131r. www.myblog.com"))))},K=function(){return{type:"AUTHENTICATE"}},$=function(){return{type:"UNAUTHENTICATE"}},Q=Object(g.b)(null,(function(e){return{authenticate:Object(d.b)(K,e),unauthenticate:Object(d.b)($,e)}}))((function(e){var t=e.authenticate,a=e.unauthenticate,n=localStorage.getItem("token");n&&(JSON.parse(n).Expiration<Date.now()?(localStorage.removeItem("token"),a()):t());return l.a.createElement(l.a.Fragment,null,l.a.createElement(W.c,null,l.a.createElement(W.a,{exact:!0,path:"/",component:G}),l.a.createElement(W.a,{exact:!0,path:"/blogs",component:M}),l.a.createElement(W.a,{exact:!0,path:"/blogs/:id",component:P}),l.a.createElement(W.a,{component:L})),l.a.createElement(X,null))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(70);var Z=a(24),ee=[],te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_BLOGS_SUCCESS":return Object(Z.a)(t.payload);case"ADD_COMMENT_SUCCESS":var a=e.find((function(e){return e.blogId===t.payload.blogId})),n=e.map((function(e){return e.blogId===t.payload.blogId?Object.assign({},a,{comments:[].concat(Object(Z.a)(a.comments),[t.payload])}):e}));return n;case"REMOVE_COMMENT_SUCCESS":var l=e.find((function(e){return e.blogId===t.payload.blogId})),c=e.map((function(e){return e.blogId===t.payload.blogId?Object.assign({},l,{comments:l.comments.filter((function(e){return e.commentId!==t.payload.commentId}))}):e}));return c;default:return e}},ae={categories:[],currentCategory:{}},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CATEGORIES_SUCCESS":return Object(B.a)({},e,{categories:t.payload});case"CHANGE_CATEGORY":return Object(B.a)({},e,{currentCategory:t.payload});default:return e}},le={loading:!1},ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"IS_LOADING":return Object(B.a)({},e,{loading:!0});case"NOT_LOADING":return Object(B.a)({},e,{loading:!1});default:return e}},re={authenticated:!1},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTHENTICATE":return Object(B.a)({},e,{authenticated:!0});case"UNAUTHENTICATE":return Object(B.a)({},e,{authenticated:!1});default:return e}},me=Object(d.c)({blogReducer:te,categoryReducer:ne,uiReducer:ce,authReducer:oe}),ie=a(41),se=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||d.d,ue=function(){return Object(d.e)(me,se(Object(d.a)(ie.a)))}();r.a.render(l.a.createElement(u.a,null,l.a.createElement(g.a,{store:ue},l.a.createElement(Q,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[42,1,2]]]);
//# sourceMappingURL=main.8abe0f48.chunk.js.map
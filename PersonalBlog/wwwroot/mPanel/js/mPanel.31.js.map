{"version":3,"sources":["webpack://mPanel/./src/js/common/select.js","webpack://mPanel/./src/js/helpers/elementFactory.js"],"names":["selects","document","querySelectorAll","searchSelect","Array","from","this","parentElement","querySelector","children","forEach","i","innerText","toLowerCase","includes","value","classList","remove","add","expandList","e","target","nodeName","toggle","addEventListener","closest","s","className","length","placeholder","getAttribute","selected","name","classes","appendTo","innerHtml","input","attributes","event","list","c","hiddenValueEl","text","styles","property","element_selected","selectbox","insertBefore","el","createElement","style","innerHTML","a","setAttribute","textNode","createTextNode","appendChild","parent","child"],"mappings":"sHAEA,MAAMA,EAAUC,SAASC,iBAAiB,cAwE1C,SAASC,IACWC,MAAMC,KACtBC,KAAKC,cAAcC,cAAc,gBAAgBC,UAEzCC,SAASC,IACJA,EAAEC,UAAUC,cACfC,SAASR,KAAKS,OACnBJ,EAAEK,UAAUC,OAAO,UADQN,EAAEK,UAAUE,IAAI,aAKpD,SAASC,EAAWC,GACQ,UAAtBA,EAAEC,OAAOC,UAAsBhB,KAAKU,UAAUO,OAAO,QAlF3DtB,SAASuB,iBAAiB,SAE1B,SAAsBJ,GACfA,EAAEC,OAAOI,QAAQ,uBACpBzB,EAAQU,SAASgB,IACXA,EAAEnB,cAAcoB,UAAUb,SAAS,SACrCY,EAAEnB,cAAcS,UAAUC,OAAO,cAKrCjB,EAAQ4B,OAAS,GACnB5B,EAAQU,SAASgB,IACf,MAAMG,EACJH,EAAEI,aAAa,qBAAuBJ,EAAEjB,SAAS,GAAGG,UAEtDc,EAAEnB,cAAciB,iBAAiB,QAASL,GAE1C,MAAMY,GAAW,OAAe,CAC9BC,KAAM,MACNC,QAAS,CAAC,YACVC,SAAUR,EAAEnB,cACZ4B,UAAW,SAASN,iDAGhBO,GAAQ,OAAe,CAC3BJ,KAAM,QACNC,QAAS,CAAC,YACVI,WAAY,CACV,CAAEL,KAAM,OAAQjB,MAAO,QACvB,CAAEiB,KAAM,cAAejB,MAAO,WAEhCuB,MAAO,CAAC,QAASnC,KAGboC,GAAO,OAAe,CAC1BP,KAAM,KACNC,QAAS,CAAC,kBAGS,OAAe,CAClCD,KAAM,MACNC,QAAS,CAAC,iBACVC,SAAUR,EAAEnB,cACZE,SAAU,CAAC2B,EAAOG,KAGpBnC,MAAMC,KAAKqB,EAAEjB,UAAUC,SAAS8B,IAC9B,MAAMC,GAAgB,OAAe,CACnCT,KAAM,MACNC,QAAS,CAAC,SACVS,KAAMF,EAAEzB,MACR4B,OAAQ,CAAC,CAAEC,SAAU,UAAW7B,MAAO,YAEzC,OAAe,CACbiB,KAAM,KACNU,KAAMF,EAAE5B,UACRsB,SAAUK,EACV9B,SAAU,CAACgC,GACXH,MAAO,CACL,QACA,WAwBV,IAAuCO,EAAkBC,EAAlBD,EAvBPd,EAASvB,cAAc,QAuBEsC,EAvBOpB,EAwB9DmB,EAAiBjC,UAxBON,KAwBoBM,UAC5CkC,EAAU/B,MAzBcT,KAyBSE,cAAc,UAAUI,qB,+BCjD3D,IA1CA,UAAwB,KACtBoB,EAAI,QACJC,EAAO,KACPS,EAAI,OACJC,EAAM,SACNT,EAAQ,SACRzB,EAAQ,MACR6B,EAAK,UACLH,EAAS,WACTE,EAAU,aACVU,IAEA,MAAMC,EAAK/C,SAASgD,cAAcjB,GAUlC,GARIC,GAASA,EAAQvB,SAAS8B,GAAMQ,EAAGhC,UAAUE,IAAIsB,KAEjDG,GAAQA,EAAOjC,SAASgB,GAAOsB,EAAGE,MAAMxB,EAAEkB,UAAYlB,EAAEX,QAExDoB,IAAWa,EAAGG,UAAYhB,GAE1BE,GAAYA,EAAW3B,SAAS0C,GAAMJ,EAAGK,aAAaD,EAAEpB,KAAMoB,EAAErC,SAEhE2B,EAAM,CACR,MAAMY,EAAWrD,SAASsD,eAAeb,GACzCM,EAAGQ,YAAYF,GAejB,OAZI7C,GACFA,EAASC,SAAS8B,GAAMQ,EAAGQ,YAAYhB,KAGrCF,GAAOU,EAAGxB,iBAAiBc,EAAM,GAAIA,EAAM,IAE3CS,GAAcA,EAAaU,OAAOV,aAAaC,EAAID,EAAaW,OAEhExB,GACFA,EAASsB,YAAYR,GAGhBA","file":"js/mPanel.31.js","sourcesContent":["import elementFactory from \"../helpers/elementFactory\";\r\n\r\nconst selects = document.querySelectorAll(\".my-select\");\r\n\r\ndocument.addEventListener(\"click\", closeSelects);\r\n\r\nfunction closeSelects(e) {\r\n  if (!e.target.closest(\".my-select-wrapper\")) {\r\n    selects.forEach((s) => {\r\n      if (s.parentElement.className.includes(\"open\"))\r\n        s.parentElement.classList.remove(\"open\");\r\n    });\r\n  }\r\n}\r\n\r\nif (selects.length > 0) {\r\n  selects.forEach((s) => {\r\n    const placeholder =\r\n      s.getAttribute(\"data-placeholder\") || s.children[0].innerText;\r\n\r\n    s.parentElement.addEventListener(\"click\", expandList);\r\n\r\n    const selected = elementFactory({\r\n      name: \"div\",\r\n      classes: [\"selected\"],\r\n      appendTo: s.parentElement,\r\n      innerHtml: `<span>${placeholder}</span> <i class='fas fa-chevron-down'></i>`,\r\n    });\r\n\r\n    const input = elementFactory({\r\n      name: \"input\",\r\n      classes: [\"select-q\"],\r\n      attributes: [\r\n        { name: \"type\", value: \"text\" },\r\n        { name: \"placeholder\", value: \"Ara...\" },\r\n      ],\r\n      event: [\"keyup\", searchSelect],\r\n    });\r\n\r\n    const list = elementFactory({\r\n      name: \"ul\",\r\n      classes: [\"select-list\"],\r\n    });\r\n\r\n    const selectExpand = elementFactory({\r\n      name: \"div\",\r\n      classes: [\"select-expand\"],\r\n      appendTo: s.parentElement,\r\n      children: [input, list],\r\n    });\r\n\r\n    Array.from(s.children).forEach((c) => {\r\n      const hiddenValueEl = elementFactory({\r\n        name: \"div\",\r\n        classes: [\"value\"],\r\n        text: c.value,\r\n        styles: [{ property: \"display\", value: \"none\" }],\r\n      });\r\n      elementFactory({\r\n        name: \"li\",\r\n        text: c.innerText,\r\n        appendTo: list,\r\n        children: [hiddenValueEl],\r\n        event: [\r\n          \"click\",\r\n          function () {\r\n            handleLiClick(this, selected.querySelector(\"span\"), s);\r\n          },\r\n        ],\r\n      });\r\n    });\r\n  });\r\n}\r\n\r\nfunction searchSelect() {\r\n  const listItems = Array.from(\r\n    this.parentElement.querySelector(\".select-list\").children\r\n  );\r\n  listItems.forEach((i) => {\r\n    const text = i.innerText.toLowerCase();\r\n    if (!text.includes(this.value)) i.classList.add(\"d-none\");\r\n    else i.classList.remove(\"d-none\");\r\n  });\r\n}\r\n\r\nfunction expandList(e) {\r\n  if (e.target.nodeName !== \"INPUT\") this.classList.toggle(\"open\");\r\n}\r\n\r\nfunction handleLiClick(target_element, element_selected, selectbox) {\r\n  element_selected.innerText = target_element.innerText;\r\n  selectbox.value = target_element.querySelector(\".value\").innerText;\r\n}\r\n","function elementFactory({\r\n  name,\r\n  classes,\r\n  text,\r\n  styles,\r\n  appendTo,\r\n  children,\r\n  event,\r\n  innerHtml,\r\n  attributes,\r\n  insertBefore,\r\n}) {\r\n  const el = document.createElement(name);\r\n\r\n  if (classes) classes.forEach((c) => el.classList.add(c));\r\n\r\n  if (styles) styles.forEach((s) => (el.style[s.property] = s.value));\r\n\r\n  if (innerHtml) el.innerHTML = innerHtml;\r\n\r\n  if (attributes) attributes.forEach((a) => el.setAttribute(a.name, a.value));\r\n\r\n  if (text) {\r\n    const textNode = document.createTextNode(text);\r\n    el.appendChild(textNode);\r\n  }\r\n\r\n  if (children) {\r\n    children.forEach((c) => el.appendChild(c));\r\n  }\r\n\r\n  if (event) el.addEventListener(event[0], event[1]);\r\n\r\n  if (insertBefore) insertBefore.parent.insertBefore(el, insertBefore.child);\r\n\r\n  if (appendTo) {\r\n    appendTo.appendChild(el);\r\n  }\r\n\r\n  return el;\r\n}\r\n\r\nexport default elementFactory;\r\n"],"sourceRoot":""}